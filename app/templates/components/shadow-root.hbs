{{#let (element this.tagName) as |Tag|}}
  {{#if this.isFastBoot}}
    <Tag ...attributes>
      <template shadowroot={{@mode}}>
        <slot></slot>
      </template>
      {{yield}}
    </Tag>
  {{else}}
    <Tag ...attributes {{did-insert this.setupRoot}} />

    {{#if this.shadow}}
      {{#in-element this.shadow}}
        {{yield}}
      {{/in-element}}
    {{/if}}
  {{/if}}
{{/let}}